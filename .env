DATABASE_URL='postgresql://neondb_owner:npg_EoeyLMmS39iD@ep-dawn-breeze-a128wag7-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require'

CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

import pool from "./db";

app.get("/api/table-columns", async (req, res) => {
  try {
    const result = await pool.query("SELECT * FROM columns"); // or your actual table name
    res.json(result.rows);
  } catch (error) {
    console.error("Error fetching columns:", error);
    res.status(500).json({ error: "Failed to fetch columns" });
  }
});